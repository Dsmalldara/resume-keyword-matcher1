/**
 * Generated by orval v7.15.0 üç∫
 * Do not edit manually.
 * AI Resume Analysis API
 * Backend API for AI-powered resume analysis. Matches CVs against job descriptions, identifies missing keywords, calculates compatibility scores, and generates personalized cover letter suggestions. Built with Node.js/Express.
 * OpenAPI spec version: 1.0.0
 */
import { faker } from "@faker-js/faker";

import { HttpResponse, delay, http } from "msw";
import type { RequestHandlerOptions } from "msw";

import { ActivityType } from "../../models";
import type {
  GetActivityByTypeType200,
  GetActivityRecent200,
} from "../../models";

export const getGetActivityRecentResponseMock = (
  overrideResponse: Partial<GetActivityRecent200> = {},
): GetActivityRecent200 => ({
  activities: faker.helpers.arrayElement([
    Array.from(
      { length: faker.number.int({ min: 1, max: 10 }) },
      (_, i) => i + 1,
    ).map(() => ({
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      entityId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      entityType: faker.string.alpha({ length: { min: 10, max: 20 } }),
      message: faker.string.alpha({ length: { min: 10, max: 20 } }),
      type: faker.helpers.arrayElement(Object.values(ActivityType)),
      createdAt: `${faker.date.past().toISOString().split(".")[0]}Z`,
      metadata: faker.helpers.arrayElement([{}, undefined]),
      profileId: faker.string.uuid(),
    })),
    undefined,
  ]),
  ...overrideResponse,
});

export const getGetActivityByTypeTypeResponseMock = (
  overrideResponse: Partial<GetActivityByTypeType200> = {},
): GetActivityByTypeType200 => ({
  activities: faker.helpers.arrayElement([
    Array.from(
      { length: faker.number.int({ min: 1, max: 10 }) },
      (_, i) => i + 1,
    ).map(() => ({
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      entityId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      entityType: faker.string.alpha({ length: { min: 10, max: 20 } }),
      message: faker.string.alpha({ length: { min: 10, max: 20 } }),
      type: faker.helpers.arrayElement(Object.values(ActivityType)),
      createdAt: `${faker.date.past().toISOString().split(".")[0]}Z`,
      metadata: faker.helpers.arrayElement([{}, undefined]),
      profileId: faker.string.uuid(),
    })),
    undefined,
  ]),
  ...overrideResponse,
});

export const getGetActivityRecentMockHandler = (
  overrideResponse?:
    | GetActivityRecent200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<GetActivityRecent200> | GetActivityRecent200),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    "*/activity/recent",
    async (info) => {
      await delay(1000);

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === "function"
              ? await overrideResponse(info)
              : overrideResponse
            : getGetActivityRecentResponseMock(),
        ),
        { status: 200, headers: { "Content-Type": "application/json" } },
      );
    },
    options,
  );
};

export const getGetActivityByTypeTypeMockHandler = (
  overrideResponse?:
    | GetActivityByTypeType200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<GetActivityByTypeType200> | GetActivityByTypeType200),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    "*/activity/by-type/:type",
    async (info) => {
      await delay(1000);

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === "function"
              ? await overrideResponse(info)
              : overrideResponse
            : getGetActivityByTypeTypeResponseMock(),
        ),
        { status: 200, headers: { "Content-Type": "application/json" } },
      );
    },
    options,
  );
};
export const getActivityMock = () => [
  getGetActivityRecentMockHandler(),
  getGetActivityByTypeTypeMockHandler(),
];
